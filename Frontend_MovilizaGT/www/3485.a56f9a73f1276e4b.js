"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(v,u,a)=>{a.r(u),a.d(u,{LoginPageModule:()=>f});var c=a(177),t=a(4341),n=a(4742),m=a(8986),i=a(3953),g=a(7692),d=a(3656);const h=()=>["/register"],p=[{path:"",component:(()=>{class e{constructor(s,o,r){this.fb=s,this.generalService=o,this.navCtrl=r,this.loginForm=this.fb.group({email:["",[t.k0.required,t.k0.email]],pass:["",[t.k0.required,t.k0.minLength(6)]]})}ngOnInit(){this.loginForm=this.fb.group({email:["",[t.k0.required,t.k0.email]],pass:["",[t.k0.required,t.k0.minLength(6)]]})}onLogin(){const s=this.loginForm.get("email")?.value,o=this.loginForm.get("pass")?.value;"admin"===s&&"admin"===o?this.navCtrl.navigateRoot("/inicio"):this.generalService.post("api/auth/login",{email:s,pass:o}).subscribe(l=>{sessionStorage.setItem("userData",JSON.stringify(l)),console.log("Datos del usuario:",sessionStorage.getItem("userData")),console.log("Login exitoso:",l),this.navCtrl.navigateRoot("/inicio")},l=>{console.error("Error en el login:",l),alert("Credenciales incorrectas")})}isFormValid(){const s=this.loginForm.get("email")?.value,o=this.loginForm.get("pass")?.value;return"admin"===s&&"admin"===o||this.loginForm.valid}static#i=this.\u0275fac=function(o){return new(o||e)(i.rXU(t.ok),i.rXU(g.O),i.rXU(d.q9))};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-login"]],decls:26,vars:4,consts:[[1,"ion-padding"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","email","type","email"],["formControlName","pass","type","password"],["expand","full","type","submit",3,"disabled"],["lines","none"],[1,"ion-text-center"],[3,"routerLink"]],template:function(o,r){1&o&&(i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i.EFF(3,"Login"),i.k0s()()(),i.j41(4,"ion-content",0)(5,"ion-card")(6,"ion-card-header")(7,"ion-card-title"),i.EFF(8,"Iniciar Sesi\xf3n"),i.k0s()(),i.j41(9,"ion-card-content")(10,"form",1),i.bIt("ngSubmit",function(){return r.onLogin()}),i.j41(11,"ion-item")(12,"ion-label",2),i.EFF(13,"Correo Electr\xf3nico"),i.k0s(),i.nrm(14,"ion-input",3),i.k0s(),i.j41(15,"ion-item")(16,"ion-label",2),i.EFF(17,"Contrase\xf1a"),i.k0s(),i.nrm(18,"ion-input",4),i.k0s(),i.j41(19,"ion-button",5),i.EFF(20,"Login"),i.k0s()(),i.j41(21,"ion-item",6)(22,"ion-label",7),i.EFF(23," \xbfNo tienes una cuenta? "),i.j41(24,"ion-router-link",8),i.EFF(25,"Reg\xedstrate aqu\xed"),i.k0s()()()()()()),2&o&&(i.R7$(10),i.Y8G("formGroup",r.loginForm),i.R7$(9),i.Y8G("disabled",!r.isFormValid()),i.R7$(5),i.Y8G("routerLink",i.lJ4(3,h)))},dependencies:[t.qT,t.BC,t.cb,n.Jm,n.b_,n.I9,n.ME,n.tN,n.W9,n.eU,n.$w,n.uz,n.he,n.BC,n.ai,n.Gw,n.N7,m.Wk,t.j4,t.JD]})}return e})()}];let F=(()=>{class e{static#i=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[m.iI.forChild(p),m.iI]})}return e})(),f=(()=>{class e{static#i=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[c.MD,t.YN,n.bv,F,t.YN,t.X1]})}return e})()}}]);